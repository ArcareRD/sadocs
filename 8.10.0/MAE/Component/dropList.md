# 元件類型-下拉選項

* ## Web支援版本
  
      8.10.0

* ## APP 支援版本

      008.010.000049 以上(含)

* __下拉選項__
  * __元件代碼__
    * wDL
  * __相依性__
    * 獨立元件
  * __版面相關__
    * 元件寬高
      * 高度(px)
        * 下拉選項＝單選
          * 當變動高度＝是
            * 表示最小高度。
            * 不含`外邊距`的上邊距/下邊距：(單元樣式/外邊距/(上邊距/下邊距))
            * 元件會因`標題區`或`內容區`撐高
            * [內容超出折行](../general/rule)
          * 當變動高度＝否
            * 內容永遠為一行
            * 內容超出顯示...
            * [元件高度不足](../general/rule)
        * 下拉選項＝多選
          * 一定是變動高度
          * 高度表示最小高度
          * 元件會因`標題區`或`內容區`撐高
          * [內容超出折行](../general/rule)
      * 寬度(%)
        不含`外邊距`的左邊距/右邊距：(單元樣式/外邊距/(左邊距/右邊距))
      * 當裝置的大小不同時，可能導致元件寬高會改變
    * [樣式](../general/style)
      * 致能(Apps_Enable)
        * 下拉選項=單選/多選
        * 背景/邊框/內間距/外間距/文字
      * 致能多選(Apps_Enable_Multi)
        * 下拉選項=多選，選取後的子元件樣式
        * 背景/邊框/文字`(目前無法支援 內間距/外間距 待改)`<!--FIXME-->
      * 顯示致能(Apps_DisplayEnable)
        * 下拉選項=單選/多選
        * 背景/邊框/內間距/外間距/文字
      * 顯示致能多選(Apps_DisplayEnable_Multi)
        * 下拉選項=多選，選取後的子元件樣式
        * 背景/邊框/文字`(目前無法支援 內間距/外間距 待改)`<!--FIXME-->
      * 標題(Apps_Title)
        * 背景/邊框/內間距/外間距/文字
      * 下拉選單(Apps_Item_List)
        * 背景/邊框/內間距/文字
        * 光棒(lightBar)
          * 背景/邊框
          * 下拉選項=單選，下拉清單選取的項目
      * 下拉選單預設樣式
        * 標題樣式
          * 字型大小＝16，字型顏色=[0xFF000000]
        * 下拉選項=單選
          * 元件樣式
            * 字型大小＝16，字型顏色=[0xFF000000]，位置＝靠左置中，字體=粗體，背景顏色＝[0xFFFFFFFF]
            * 邊框
              * 顏色=[0xFFE0E0E0]
              * 線條＝無
              * 圓角=3
              * 寬度＝1
            * 內邊距 上=2，下＝2，左＝5，右＝5
          * 下拉選項樣式
            * 確定
              * 預設 字型顏色=[0xFF2196F3]，字型大小: 18
            * 取消
              * 預設 字型顏色=[0xFFF44336]，字型大小: 18
            * 背景
              * 預設 顏色=[0xFFFFFFFF]
            * 邊框
              * 預設值=無
            * 內邊距
              * 預設值=無
            * 選項
              * 預設 字型顏色=[0xFF000000]，字型大小: 18
            * 光棒
              * 預設值=無
        * 下拉選項=多選
          * 元件樣式
            * 字型大小＝16，字型顏色=[0xFF000000]，位置＝靠左置中，字體=粗體，背景顏色＝[0xFFFFFFFF]
            * 邊框 顏色=[0xFFE0E0E0]，線條＝無，圓角=3，寬度＝1
            * 內邊距 上=2，下＝2，左＝5，右＝5
          * 下拉選項樣式
            * 核取方塊
              * 預設 選取=[0xFFFFFFFF]，背景=[0xFF2196F3]，邊框＝[0xFFFFFFFF]
            * 確定
              * 預設 字型顏色=[0xFF2196F3]，字型大小: 18
            * 取消
              * 預設 字型顏色=[0xFFF44336]，字型大小: 18
            * 選項
              * 預設 字型顏色=[0xFF000000]，字型大小: 18
            * 背景
              * 預設 顏色=[0xFFFFFFFF]
            * 邊框
              * 預設值=無
            * 內邊距
              * 預設值=無
  * __加註__
    * - [x] [基本設定](../Addition/component/basicSettings)
    * - [x] [預設給值](../Addition/component/defaultValue)
    * - [x] [更新給值](../Addition/component/updateValue)
    * - [x] [被動更新](../Addition/component/passiveUpdate)
    * - [x] [編輯能力](../Addition/component/editting)
    * - [x] [顯示設定](../Addition/component/display)
    * - [x] [檢控限制](../Addition/component/prosecutionResstrucson)
    * - [ ] [嵌入物件](../Addition/component/embedded)
    * - [x] [選項清單](../Addition/component/optionList) (必要項)
  * __行為__
    * 受權限保護元件
      - [x] [支援](../general/rule)
      - [ ] 不支援
    * 對應檔區：
      * 表單元件/基本設定/存在檔區
    * 對應欄位：
      * 表單元件/基本設定/檢視表對應欄位
      * 支援欄位型態：文字/整數/數字/日期/日期時間/全唯碼
    * 對應查找欄位：
      * 下拉選項-多選
        * 查找資料庫時的條件
    * 顯示巨集：
      - [ ] 支援
      - [x] 不支援
    * [模版](../general/model)：
      - [x] 支援(`下拉選項-單選`)
      - [x] 不支援(`下拉選項-多選`)
    * 提示：
      - [ ] 支援
      - [x] 不支援
    * 錯誤顯示：顯示在元件下方
      - [x] 支援
      - [ ] 不支援
    <!--* 資料過濾：對應欄位-->
    <!--* 資料搜尋：對應欄位-->
    * 瀏覧模式：
      * 內容
        * 顯示所選取資料
        * 不允許點擊
        * `下拉選項＝多選`
          * 多選的資料不顯示取消圖示(X)
    * 編輯模式：
      * 長度限制
        * 依欄位長度限制可顯示字數
          * 下拉選項-單選
            * 長度計算為所有顯示欄位相加的長度
          * 下拉選項-多選
            * 長度計算為所有選擇的資料相加的長度
              * `需加上間隔逗號的長度`
                * Ex.`"key1,key2,key3"=15`
        * 超過時顯示提示
        * 對應查找欄位單獨判斷`(下拉選項-多選)`
          * 長度計算為所有選擇的資料相加的長度
            * `需加上間隔逗號及前後單引號的長度`
              * Ex.`"'key1','key2','key3'"=20`
      * 元件唯讀：(資料元件/編輯能力/可編欄位/唯讀)
        * 不允許點擊
        * `下拉選項＝多選`
          * 多選的資料不顯示取消圖示(X)
      * 內容
        * 顯示所選取資料
        * `下拉選項＝多選`
          * 多選的資料顯示取消圖示(X)
      * 開啟下拉清單：(表單元件/選項清單)
        * 規則
              當元件於`瀏覧模式`時，無法開啟
              當元件唯讀時，無法開啟
              不能有`執行條件`不成立的狀況：`選項清單/執行條件`
              下拉選項出現後，點選其他區域，會自動關閉下拉選項
              點擊`確認`後即為選取，點擊`取消`後即為放棄此次選取
              下拉選項=單選，可上下滑動想選取的資料
              下拉選項=多選，點選為選取，再點選相同項目時為取消
      * 下拉選項的組成
        * 下拉選項=單選
          * 固定選項：(表單元件/選項清單/固定項次)
            | 類型 | 格式 |
            | --- | --- |
            | 有代號、名稱 | 代號.名稱(以點(.)分隔) |
            | 只有代號 | 代號 |
          * 變動選項：(表單元件/選項清單/變動項次)
            * 有代號、名稱：(表單元件/選項清單/帶回對應元件：存在`要顯示＝是 且帶回對應元件<>本元件`)
              * 格式：`對應欄位`對應的`來源欄位`(會套`顯示模版`)+點(.)+選項清單/來源欄位(要顯示＝Y + 帶回對應元件<>本元件)
                * 帶回對應元件<>本元件：
                  * 若有多個會用底線(_)分隔
                  * 顯示格式
                    | 欄位型態 | 去空白 | 特殊格式 |
                    | --- | --- | --- |
                    | 字串 | 是 | |
                    | 日期/日期時間 | 是 | `yyyy/MM/dd hh:mm:ss.SSS` (yyyy：西元(4碼)/MM：月(2碼)/dd：日(2碼)/hh：時(2碼)/mm：分(2碼)/ss：秒(2碼)/SSS：毫秒(3碼)) |
                    | 數字 | 是 | 轉文字 |
                    | 邏輯 | 是 | 當為true，顯示1。否則顯示0 |
            * 只有代號：(表單元件/選項清單/帶回對應元件：不存在`要顯示＝是 且帶回對應元件＝不含本欄位`)
              * 格式：`對應欄位`對應的`來源欄位`(會套`顯示模版`)
        * 下拉選項=多選
          * 可輸入並過濾可選項次`(可關閉)`
          * 會同步輸出至`對應查找欄位`
            * 資料會變成`"'key1', 'key2', 'key3', 'key4'"`
          * 所選取的資料可直接點擊(X)來取消選取(`目前MAE點擊範圍為"圖示＋資料"，點擊範圍應為"圖示" 待改`)<!--FIXME-->
      * 強制重顯：(表單元件/選項清單/強制重新載入)
        * 時機：開啟下拉清單
          * 強制重顯=`true`
            * 每次會重新載入選項清單資料
          * 強制重顯=`false`
            * 當查詢條件改變時才會重新載入
            * 表單重顯時才會重新載入
    * 開單隱藏：
      - [ ] 支援
      - [x] 不支援
    * 資料隱藏：
      - [x] 支援
      - [ ] 不支援
    * 元件隱藏：
      - [x] 支援
      - [ ] 不支援
    * 元件除能：
      - [x] 支援
      - [ ] 不支援
    * 元件駐留：
      - [ ] 支援
      - [x] 不支援
        <!--* 元件跳離 (選項值異動時)
          1. 若輸入內容與原值相同時，不會再執行後續的動作
          2. 檢查資料的正確性
             * 若條件不成立時，顯示[錯誤訊息](../general/rule)，並回復原值
             1. 系統檢查
               * [空白檢查](../Addition/component/basicSettings)
               * 各種欄位型態的檢查
                 | 組裝欄位型態 | 檢查項目 |
                 | --- | --- |
                 | 01.Unicode字串(固定長度) | 無 |
                 | 13.Unicode字串(可變長度) | 無 |
                 | 14.字串(固定長度) | 無 |
                 | 15.字串(可變長度) | 無 |
                 | 10.Unicode備註 | 無 |
                 | 17.備註 | 無 |
                 | 04.int | 無|
                 | 05.smallint | 無 |
                 | 06.tinyint | 無 |
                 | 16.bigint | 無 |
                 | 07.數字 | 無 |
                 | 08.金額 | 無 |
                 | 02.日期 | 不符合日期格式：※輸入有誤※日期輸入不合法！ |
                 | 03.日期時間 | 日期須大於1900/01/01且小於2079/06/06：※輸入有誤※日期超出範圍！ |
                 | 11.全唯碼 | 符合全唯碼格式：※輸入有誤※輸入格式不合法！ |
             2. 設計者定義的檢查
               * [檢控限制](../Addition/component/prosecutionRestrictions)
               * 錯誤訊息類型：(表單元件/檢控限制/異常類別)
                 * 錯誤：(表單元件/檢控限制/異常類別/錯誤)
                 * 警告：(表單元件/檢控限制/異常類別/警告)
                 * 詢問：(表單元件/檢控限制/異常類別/操作者決定)
          3. 寫入對應欄位
          4. [更新相關值](../Addition/component/updateValue)
          5. [它欄更新](../Addition/component/passiveUpdate)
          6. 存後：(表單元件/更新給值：ENG.存後)
          7. 重顯相關元件
          8. 跳至另一元件
          9. -->
#### <div id="photo">畫面</div>
    * 元件示意圖
      * 下拉選項＝單選

        ![image](./image/ios/componentDropListEditing.png)

      * 下拉選項＝多選
      
        ![image](./image/droplist_multi_selected.png)

        * 選取-不可輸入
      
          ![image](./image/droplist_multi_selected_no_search.png)
        
        * 選取-可輸入
      
          ![image](./image/droplist_multi_selected_selecting.png)

        * 選取-查找
        
          ![image](./image/droplist_multi_selected_search.png)

        * 超過寬度
        
          ![image](./image/droplist_multi_selected_over_selected.png)

          ![image](./image/droplist_multi_selected_over_one_selected.png)
