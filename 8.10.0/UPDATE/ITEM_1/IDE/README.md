### <div id="user">規劃人員</div>
* Prenkt

### <div id="updatedate">規劃日期</div>
* 2020/11/13

### <div id="trac">TRAC</div>
* #8190

### <div id="requirement">需求展開</div>
* 規格說明
    * 前提: 
        * 本次離線功能, 僅指 ruRU MAE進入離線模式, 且該模式下僅能使用離線用APP表單, 與裝置本身是否可連網無關
        * 配合離線資料使用SQLite, 支援版本: Android API 27: 3.19；ios 12.0(含以上): 3.24.0
    * 提供設計者設定離線任務
        * 一離線任務, 可設定多個離線表單, 且只能為APP表單；並可指定其中一個APP表單為任務首頁表單
        * 提供下載離線資料的範圍的設定, 且為必須設定
        * 提供同步表單設定, 可不設定
    * 資料表, 提供產生離線上傳用對應表格
    * 檢視表,
        * 提供產生離線上傳用對應表格
        * 提供設定為離線用檢視表, 並注意下列設計限制
            * 不支援設定接收參數
            * 結構展開中, 參考來源為檢視表者, 須同為離線用檢視表
            * 欄位清單, 若欄位型態=全唯碼, 則增加設定項目: 檔案唯一號 ; 不提供挑選個資加密或密碼處理的欄位
    * 流程下的單據清單, 不可設定離線用APP表單
    * 提供APP表單設定為離線用, 並注意下列設計限制
        * 元件加註_被動更新: 不支援距離計算
        * 元件加註_嵌入物件: 不支援嵌入網頁；嵌入檔案容器控制, 在編輯狀態下, 表格類型只能挑選資料表暫存
        * 按鍵加註_開啟它單: 除設計類型外，增加是否為離線用判斷
        * 按鍵加註_特殊處理: 不支援連結物件、檔案傳輸
        * 按鍵加註_外部執行: 不支援此加註
        * 按鍵加註_資料過濾: 新增離線資料過濾方式
        * 按鍵加註_資料交易: 新增離線資料交易方式
        * 所有加註內容中, 若有引用檢視表來源的加註, 須增加過濾離線用檢視表
        * 支援打樣功能????
* 規劃項目展開
    * 首頁
        * 首頁架構樹: 增加節點
        * 新增表單/報表: 增加使用時機: 離線用
        * 新增離線資料交易: 本次新增表單
    * 版面設計
        * 表單設計版面: 增加使用時機: 離線用
    * 表單加註
        * 資料區: 過濾條件、角色條件，限制不可使用自訂
    * 元件加註
        * 被動更新: 不支援距離計算
        * 嵌入物件: 不支援嵌入網頁；嵌入檔案容器控制, 在編輯狀態下, 表格類型只能挑選資料表暫存
    * 按鍵加註
        * 按鍵行為選項: 增加離線用APP表單限制可加註的按鍵行為
        * 開啟它單: APP表單，增加過濾離線用
        * 資料交易: 新增離線用APP表單的加註介面
        * 資料過濾: 新增離線用APP表單的加註介面
    * 資料表格
        * 資料表: 擴充功能:產生離線上傳用對應表格
        * 檢視表: 擴充功能:產生離線上傳用對應表格；擴充使用時機:離線用
        * 離線資料交易: 本次新增表單
        * 同步檢視表欄位: 若修改到鏡像表格來源, 須同步至對應的鏡像表格
        * 表格欄位清單: 若修改到鏡像表格來源, 須同步至對應的鏡像表格
        * 同步參考欄位: 若修改到鏡像表格來源, 須同步至對應的鏡像表格
    * 專案資源
        * 離線任務設定: 本次新增表單
    * 系統資源
        * 系統函數: 增加判斷函數是否有支援SQLite語法
    * 影響修改
        * 單元檢錯
        * 規格書
        * 升級轉資料
* 作業流程
    * ![pic][image_MAEOffline]

<!-- 圖片 -->
[image_MAEOffline]:attachment/MAEOffline.png
