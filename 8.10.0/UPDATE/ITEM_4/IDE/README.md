### <div id="user">規劃人員</div>
* Lucky

### <div id="updatedate">規劃日期</div>
* 2020/11/11

### <div id="trac">TRAC</div>
* #8212

### <div id="requirement">需求展開</div>
* 規格說明
 * 調整彙總函數(sum、count...)與群組彙總(group by)不可同時並用問題。
   * 將群組彙總合併之欄位的特定處理下。
   * 並在輸出欄位清單中顯示, 群組彙總(group by)、彙總函數圖示 + 欄位名稱
 * 因排序依據僅在TOP與SubSelect中有作用, 故調整有上述設定時才可設計排序依據否則清空排序。
   * 有設定TOP時, 一定得設定排序
   * 有設定SubSelect時，可不設定排序
 * 因設計需求擴充相關項目
   * 檢視表編輯修改模式調整, 減少過多分散式的儲存行為。
     * 將排序依據、接收參數改由彈出視窗方式設定。
     * 調整結構展開相關設定行為:
       * 關聯條件改由彈出視窗方式設定, 並可修改表格名稱或別名。
         * 若別名小於現有主表別名時, 須清除異動表格下的關聯條件
         * 若別名異動導致關聯順序改變, 須清除關聯條件內原小於此表別名的關聯項(非全清除)
        ![sa_1]        
       * 新增/異動改由結構展開清單右鍵執行
   * NULL預設: 因[函數.邏表輸出欄位給值判斷]使用率高, 故擴充設定由程式添加ISNULL函數。
   * UNION: 
     * UNION檢視表的關聯條件僅可為UNION, 故調整介面在關聯時的設定方式。
     * UNION輸出欄位需由使用者自行添加UNION(表格A欄位; 表格B欄位; 表格C欄位...)，一則使用不便利二則設計上很難辨識是否有缺少UNION輸出。
   * 擴充檢視表可自動建立彙總檢視表
     * 原檢視表名稱+"_GroupBy", 若已存在則加上流水號
 * 因排序依據與彙總函數調整, 將移除檢視表頁籤-群組彙總
 * 因接收參數開啟方式調整, 將移除檢視表頁籤-接收參數
     
* 規劃項目展開
  * 檢視表異動項目如下:
    * 檢視表UNION異動: 升級轉資料.
    * 檢視表欄位擴充IsNull設定: 輸出欄位勾選此設定, 於XML中自動加入IsNull(輸出內容, 欄位型態預設值) [註1](#isnulldefault)
    * 擴充彙總欄位: Avg
    * 檢視表介面操作優化
    * XML相關調整
    * 檢錯調整
  * 因檢視表資料結構異動:
    * 規格複製、跨專案複製相關調整
    * 同步檢視表相關調整

<div id="isnulldefault">註1:IsNull設定</div>

| 型態 | 預設值 |
| ---- | ----- |
|位元 | 0 |
|文字 | '' |
|整數 | 0 |
|數字 | 0 |
|日期 | '' |
|日期時間 | '' |
|備註 | '' |
|二進位 | 0 |
|全唯碼 | 不支援 |  


<!-- 圖片-->
[sa_1]:attachment/sa_1.png "異動別名清除關聯條件" 
<!-- newLog.xlsx / 調整別名-->