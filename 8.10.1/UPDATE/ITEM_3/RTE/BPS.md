### <div id="user">規劃人員</div>
* Ivan

### <div id="updatedate">規劃日期</div>
* 2021/05/10

### <div id="trac">TRAC</div>
* #8488

## <div id="BPS">表單.BPS介面<path>(RTE表單)</path></div>
* 擴充

* 規格說明
    * 依DKS結構ID開啟IDE加註
    * 若有發生錯誤，BPS介面增加顯示錯誤排除建議
    * 顯示當下的元件內容值、接收參數、全域變數
    * 部分錯誤原因請調整為符合IDE加註的用語

* 表單畫面
    ![BPS]

* 畫面規格說明
    * 動作流程表格
        * 預設最大高度調整為 350px
        * 增加欄位.IDE位置 : 
            * 依 結構ID-加註代碼 顯示對應的IDE位置(平台語系)
            * 提供超連結，依結構ID、單元料號，開啟相對應的IDE位置
        * 欄位.動作 : 修改下列動作名稱
            * 表內流程圖 改為 執行元件功能
            * 功能鍵-內鍵 改為 執行按鍵功能

    * 錯誤說明表格
        * 表格位置移至動作流程表格下方
        * 寬度調整為總寬度的50%；並將表格內欄位寬度填滿
        * 欄位.錯誤原因 :
            * 部分錯誤原因請調整為符合IDE加註的用語，請參閱[附件.BPS錯誤代碼清冊](#attachment)
        * 移除欄位.顯示錯誤原因
        * 欄位.錯誤代碼 : 
            * 取消超連結開啟<異常提示單>的功能
        
    * 增加排除建議表格
        * 依錯誤說明表格中的錯誤類型+錯誤代碼+錯誤單元類型(向上追朔遇到的第一個單元類型)，取得排除建議的資訊顯示
        * 寬度調整為總寬度的50%；並將表格內欄位寬度填滿
        * 所有欄位皆可雙擊開啟Dialog，可查看完整內容
        * 欄位.可能原因 : 
            * 錯誤發生的可能原因
        * 欄位.建議除錯位置 : 
            * IDE的加註位置，可從該位置檢查錯誤點是否存在於此
        * 欄位.排除方案 : 
            * 依照可能原因所提出的排除方式

    * 增加內容值表格 : 
        * 每次開啟BPS視窗時，取得當下表單的元件、接收參數以及全域變數的內容值
        * 寬度等於總寬度；並將表格內欄位寬度填滿
        * 欄位.來源類別 : 
            * 顯示對應的類別，內容包含:表單元件、接收參數、全域變數
        * 欄位.單元名稱 : 
            * 顯示 "單元名稱_單元料號"，若單元類別=表單元件，則只顯示有來源欄位的元件類型
        * 欄位.給值內容 : 
            * 顯示當下單元的實際內容值(不套模版)，雙擊開啟Dialog，可查看完整內容
        
    * 組裝區(原備註說明): 
        * 位置移至最下方
        * 標題由備註說明改為組裝區
        * 高度調整為只顯示一行的高度
        * 雙擊開啟Dialog，可查看完整內容
        * 增加顯示以下干涉的內容值
            * 元件開關
            * 按鍵執行條件
            * 內鍵執行條件
            * 邏輯函數

* 作業流程
    * 手動開啟BPS介面

    ![BPS_sa1]
    * 表單發生錯誤自動開啟BPS介面

    ![BPS_sa2]
    * IDE位置超連結開啟加註介面

    ![BPS_sa3]
    * 雙擊欄位.可能原因開啟Dialog

    ![BPS_sa4]
    * 雙擊欄位.建議除錯位置開啟Dialog

    ![BPS_sa5]
    * 雙擊欄位.排除方案開啟Dialog
    
    ![BPS_sa6]
    * 雙擊欄位.給值內容開啟Dialog
    
    ![BPS_sa7]
    * 雙擊欄位.組裝區開啟Dialog

    ![BPS_sa8]

## <div id="attachment">附件</div>
* BPS錯誤代碼清冊 : <a href="{1}/RTE/attachment/BPS錯誤異常_資料表內容-調整.xlsx" donwnload>下載</a> 

<!--超連結引用ps.畫面上看不到-->
[BPS]:attachment/BPS.png
[BPS_sa1]:attachment/BPS_sa1.png
[BPS_sa2]:attachment/BPS_sa2.png
[BPS_sa3]:attachment/BPS_sa3.jpg
[BPS_sa4]:attachment/BPS_sa4.jpg
[BPS_sa5]:attachment/BPS_sa5.jpg
[BPS_sa6]:attachment/BPS_sa6.jpg
[BPS_sa7]:attachment/BPS_sa7.jpg
[BPS_sa8]:attachment/BPS_sa8.jpg