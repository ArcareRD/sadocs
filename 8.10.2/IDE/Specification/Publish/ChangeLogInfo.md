## <div id="layout">版面相關</div>
* 版面
    * ![pic][image_changeloginfo]

## <div id="object-desc">欄位說明</div>

* <p id="fieldbreak1" style="color:blue;font-weight:bold">基本</p>

    * ![pic][image_changeloginfo_block1]
    * `(1)通過檢錯，直接發行`
        * 用途說明
            * 勾選表示檢錯通過後，直接進行版本發行
        * 規格說明
            * 預設 不勾選
    * `(2)檢錯`
        * 用途說明
        * 規格說明
            * 執行專案檢錯,檢查專案料件是否可發行
            * 檢錯狀態
                * 改為非同步處理，由前端固定每2秒回後端詢問檢錯狀態
                * 若為初版發行檢錯，則顯示 "發行檢錯中"
                * 非初版發行檢錯，則顯示 "發行檢錯中 ( 目前檢錯完成筆數 / 檢錯單元總數量)"
                    * 檢錯單元總數量計算方式: 專案(HandleProject method)的檢錯數量，一識別為一計算單位；其它單元，則以存在 UI_MaterialChangeLog 的單元數計算
                * 檢錯完成 且 `(1)通過檢錯，直接發行`為已勾選，呼叫`(3)發行`
            *　檢錯發現問題時的處理 
                * 發送檢錯有問題的清單至申請人系統登錄 email 信箱
                * 提示檢錯失敗系統通告,在失敗的清單項目供使用者快速點選至錯誤的料件內容的加註,以便修改
                    * ![pic][image_publish_valid_error_msgbox]
                    * 提供連結的單元 (如下列表格所示)
                        * 規則: 實表、邏表、過帳，在本單開啟單元檢錯時，若有檢查出錯誤，不提供再次開啟自己本單。(因上述單據現有程式架構，Dialog只允被開啟一次，無法再次被呼叫)
                            類型	|連結表單	|錯誤內容	|駐留節點
                            --------|-----------|-----------|----------------------------
                            FM表單	|設計版面	|全部	|僅在檢錯上顯示錯誤內容
                            FM表單	|規格關連	|明確指出檔區者	|資料來源.資料區XX
                            FM表單	|規格關連	|沒有指出檔區者	|資料來源.基本設定
                            OB表單元件	|規格關連	|明確指出的行為選項者	|表單元件.料號.行為選項
                            OB表單元件	|規格關連	|沒有指出的行為選項者	|表單元件.料號.基本設定
                            OB隱藏元件	|規格關連	|明確指出的行為選項者	|隱藏表單元件.料號.行為選項
                            OB隱藏元件	|規格關連	|沒有指出的行為選項者	|隱藏表單元件.料號.基本設定
                            BT按鍵	|規格關連	|明確指出的行為選項者	|按鍵.料號.行為選項
                            BT按鍵	|規格關連	|沒有指出的行為選項者	|按鍵.料號.基本設定
                            OB隱藏按鍵	|規格關連	|明確指出的行為選項者	|隱藏按鍵.料號.行為選項
                            OB隱藏按鍵	|規格關連	|沒有指出的行為選項者	|隱藏按鍵.料號.基本設定
                            LF檢視表	|邏輯表格	|邏表元件有誤	|欄位清單.邏表元件料號
                            LF檢視表	|邏輯表格	|連結表格有誤	|結構展開.連結表格
                            LF檢視表	|邏輯表格	|其它	|結構展開.Root
                            EF資料表	|資料表格	|資料元件有誤	|欄位清單.資料元件料號
                            EF資料表	|資料表格	|其它	|
                            PS過帳	|過帳加註	|段落內容有誤	|基本設定.段落
                            PS過帳	|過帳加註	|目的表格有誤	|目的表格.指定表格
                            PS過帳	|過帳加註	|目的欄位有誤	|目的欄位.指定欄位
                            PS過帳	|過帳加註	|資料鎖定有誤	|資料鎖定.鎖定表格
                            PS過帳	|過帳加註	|迴圈有誤	|迴圈關聯
                            RP報表	|設計版面	|全部	|僅在檢錯上顯示錯誤內容
                            RP報表	|報表加註	|資料處理有誤	|報表加註資料處理
                            RP報表	|報表加註	|分頁控制有誤	|報表加註.分頁控制
                            RP報表	|報表加註	|接收參數有誤	|報表加註.接收參數
                            RP報表	|報表加註	|其它	|報表加註.基本設定
                            RI報表元件	|報表元件加註	|全部	|報表元件.料號
                            事件	|X	|全部	|僅在檢錯上顯示錯誤內容
                            共用資料|	|各共用的介面(13張表單)|駐留錯誤的料號

    * `(3)發行`
        * 用途說明: 建立該版本XML資訊並通知匯入程式進行匯入、噴碼
        * 規格說明: 
        * 當[`狀態`](#ui_publishlog_stage) 等於 8.成品已批次產出, 呼叫API異動測試運行台的系統名稱、組織名稱
        | 語系狀態 | 動作 |
        | ------- | ---- |
        | 已存在 | 覆蓋語系內容 |
        | 不存在 | 新增語系內容 |
            | 已刪除 | 刪除語系內容 |

        * 測試台系統名稱建立規則: 發行傳入 專案資訊 `專案名稱`
        | 語系 | 運行台名稱 |
        | --- | --------- |
        | 950(繁體中文) | `對應950的語系內容 + "_運行台"` |
        | 936(簡體中文) | `對應936的語系內容 + "_运行台"` |
        | 437(英文) | `對應437的語系內容 + "_SIT"` |
        | 1145(西班牙) | `對應1145的語系內容 + "_SIT"` |

        * 測試台組織名稱建立規則: 發行傳入 工廠開案資訊 `組織名稱`
        | 語系 | 運行台名稱 |
        | --- | --------- |
        | 950(繁體中文) | `對應950的語系內容` |
        | 936(簡體中文) | `對應936的語系內容` |
        | 437(英文) | `對應437的語系內容` |
        | 1145(西班牙) | `對應1145的語系內容` |

        * 若呼叫API執行失敗時, 依使用者登入平台語系, 以不覆蓋原內容的方式，寫入發行狀態備註中
            * 當為呼叫API失敗, 顯示訊息內容: 無法連上FMS。原因: *呼叫失敗原因*。請洽系統管理人員
            * 當為執行API失敗, 顯示訊息內容: 異動測試運行台的系統名稱、組織名稱失敗。原因: *執行失敗原因*
        * 作業流程
             * ![Publish_Diagram]



<!-- 圖片 -->
[image_changeloginfo]:attachment/image_ChangeLogInfo.png
[image_changeloginfo_block1]:attachment/image_ChangeLogInfo_block1.png
[image_publish_valid_error_msgbox]:attachment/publish_valid_error_msgbox.png

[Publish_Diagram]:attachment/Publish_Diagram.png "[作業流程]發行"