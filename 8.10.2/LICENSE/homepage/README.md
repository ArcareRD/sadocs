# 授權管理中心 站台授權

### <div id="homepage">站台授權</div>
* 未執行按鈕.搜尋客戶站台前畫面如下:
![站台授權]

* 執行按鈕.搜尋客戶站台後，有資料時的畫面如下:
![站台授權1]

* 本頁面需登入後有權限執行
* 畫面各欄位說明如下 :
  * 1.欄位.客戶統一編號 :
    * 非必要欄位
    * 文字型態欄位
  * 2.欄位.客戶站台名稱 :
    * 非必要欄位
    * 文字型態欄位
  * 3.欄位.啟用主機MAC :
    * 非必要欄位
    * 文字型態欄位
  * 4.欄位.啟用電腦名稱
    * 非必要欄位
    * 文字型態欄位
  * 5.按鈕.搜尋客戶站台 :
    * 點擊後，執行以下動作
      * 用以下欄位的內容做為搜尋條件進行搜尋，並將資料顯示於表身表格中。
        * 客戶統一編號
        * 客戶站台名稱
        * 啟用主機MAC
        * 啟用電腦名稱
      * 搜尋條件範例
        * 欄位.客戶統一編號 = 88
        * 欄位.客戶站台名稱 = 如如
        * 搜尋條件 = 客戶統一編號 like '%88%' or 客戶站台名稱 like '%如如%'
  * 6.按鈕.新增客戶站台 :
    * 點擊後，執行以下動作
      * 開啟畫面[新增客戶站台](README.md#addsite)
  * 7.按鈕.強制失效 : 
    * 當【欄位.站台狀態】= 【未啟用】時致能
    * 點擊後，執行以下動作
      * 跳出詢問訊息【確認強制失效該客戶站台授權?】
        * 選擇【取消】則關閉訊息，不執行任何動作
        * 選擇【確認】則將該筆客戶站台授權設定為失效，並重顯資料。
  * 8.按鈕.修改授權 :
    * 當【欄位.站台狀態】= 【未啟用】時致能
    * 點擊後，開啟畫面[修改授權](README.md#updatesite)
  * 9.按鈕.產生授權 :
    * 當【欄位.站台狀態】= 【未啟用】時致能
    * 點擊後，執行以下動作
      * 將該筆站台狀態改為【未啟用】
      * 依據站台授權的內容產生授權檔案，需保留所有產生過的授權檔案到資料庫中，授權的內容如下:
        * 加密後的授權資料，未加密前的啟用授權資訊為JSON格式，資料內容如下:
          * siteid : 該筆站台授權的代號
            * 數字型態
          * ubn : 客戶統一編號
            * 文字型態
          * name : 客戶站台名稱
            * 文字型態
          * type : 授權類型
            * 數字型態
              * 1=同時連線數
              * 2=帳號數
          * count : 授權數量
            * 數字型態
          * startdate : 授權開始日期
            * 文字型態，格式 = 'yyyy-mm-dd'
          * enddate : 授權結束日期
            * 文字型態，格式 = 'yyyy-mm-dd'
          * activemac : 若該筆授權資料是執行【按鈕.啟用後變更授權】所產生的資料，需增加當時啟用資訊中的啟用主機mac addres。
            * 文字型態
            * 僅透過【按鈕.啟用後變更授權】產生的紀錄才會具有此參數
        * 授權資料的數位簽章
      * 自動下載授權檔案
  * 10.按鈕.啟用後變更授權
    * 當【欄位.站台狀態】= 【已啟用】時致能
    * 點擊後，開啟畫面[啟用後變更授權](README.md#activatechange)
  * 11.按鈕.啟用資訊
    * 當【欄位.站台狀態】= 【已啟用】時致能
    * 點擊後，開啟畫面[啟用資訊](README.md#activateinfo)
  * 12.欄位.客戶統一編號 :
    * 僅顯示
    * 點擊欄位標題可依據該欄位進行排序
  * 13.欄位.客戶站台名稱 :
    * 僅顯示
    * 點擊欄位標題可依據該欄位進行排序
  * 14.欄位.授權類型 :
    * 僅顯示
    * 點擊欄位標題可依據該欄位進行排序
    * 授權類型共以下幾種
      * 同時連線數
      * 帳號數
  * 15.欄位.授權人數 :
    * 僅顯示
    * 點擊欄位標題可依據該欄位進行排序
  * 16.欄位.授權開始 :
    * 僅顯示
    * 點擊欄位標題可依據該欄位進行排序
  * 17.欄位.授權結束 :
    * 僅顯示
    * 點擊欄位標題可依據該欄位進行排序
  * 18.欄位.站台狀態 :
    * 僅顯示
    * 點擊欄位標題可依據該欄位進行排序
    * 站台狀態共以下幾種
      * 未啟用
      * 已啟用
      * 強制失效

### <div id="addsite">新增站台</div>
![新增客戶站台]

* 本頁面需登入後有權限執行
* 畫面各欄位說明如下 :
  * 1.欄位.客戶統一編號 :
    * 必要欄位
    * 文字型態欄位
  * 2.欄位.客戶站台名稱 :
    * 必要欄位
    * 文字型態欄位
  * 3.欄位.授權類型 :
    * 必要欄位
    * radio欄位，選項如下
      * 同時連線數
      * 帳號數
  * 4.欄位.授權人數
    * 必要欄位
    * 數字型態欄位
  * 5.欄位.授權開始
    * 必要欄位
    * 日期型態欄位
    * 可輸入也可點擊開起日期視窗挑選
  * 6.欄位.授權結束
    * 必要欄位
    * 日期型態欄位
    * 可輸入也可點擊開起日期視窗挑選
  * 7.按鈕.儲存
    * 點擊後，執行以下檢查
      * 上述必要欄位是否不為空，若發現有空白請在欄位下方顯示錯誤訊息【[欄位名稱]()不可空白】(如:客戶統一編號不可空白)
      * 新增站台授權資料後關閉視窗
  
### <div id="updatesite">修改授權</div>
![修改授權]

* 本頁面需登入後有權限執行
* 開啟後代入站台授權資料
* 畫面各欄位說明如下 :
  * 1.欄位.客戶統一編號 :
    * 必要欄位
    * 文字型態欄位
  * 2.欄位.客戶站台名稱 :
    * 必要欄位
    * 文字型態欄位
  * 3.欄位.授權類型 :
    * 必要欄位
    * radio欄位，選項如下
      * 同時連線數
      * 帳號數
  * 4.欄位.授權人數
    * 必要欄位
    * 數字型態欄位
  * 5.欄位.授權開始
    * 必要欄位
    * 日期型態欄位
    * 可輸入也可點擊開起日期視窗挑選
  * 6.欄位.授權結束
    * 必要欄位
    * 日期型態欄位
    * 可輸入也可點擊開起日期視窗挑選
  * 7.按鈕.儲存
    * 點擊後，執行以下檢查
      * 上述必要欄位是否不為空，若發現有空白請在欄位下方顯示錯誤訊息【[欄位名稱]()不可空白】(如:客戶統一編號不可空白)
      * 該筆站台站台狀態是否為【未啟用】，若不為未啟用，請顯示錯誤訊息【該筆站台狀態為[授權狀態]()，不可修改】，如:該筆站台狀態為已啟用，不可修改
      * 更新目前筆站台授權資料後關閉視窗
      * 重新顯示站台授權表格資料

### <div id="activatechange">啟用後變更授權</div>
![啟用後變更授權]

* 本頁面需登入後有權限執行
* 開啟後代入站台授權資料
  * 1.欄位.客戶統一編號 :
    * 必要欄位
    * 文字型態欄位
    * 僅唯讀，不可修改
  * 2.欄位.客戶站台名稱 :
    * 必要欄位
    * 文字型態欄位
    * 僅唯讀，不可修改
  * 3.欄位.授權類型 :
    * 必要欄位
    * radio欄位，選項如下
      * 同時連線數
      * 帳號數
    * 僅唯讀，不可修改
  * 4.欄位.授權人數
    * 必要欄位
    * 數字型態欄位
  * 5.欄位.授權開始
    * 必要欄位
    * 日期型態欄位
    * 可輸入也可點擊開起日期視窗挑選
  * 6.欄位.授權結束
    * 必要欄位
    * 日期型態欄位
    * 可輸入也可點擊開起日期視窗挑選
  * 7.按鈕.儲存
    * 點擊後，執行以下檢查
      * 上述必要欄位是否不為空，若發現有空白請在欄位下方顯示錯誤訊息【[欄位名稱]()不可空白】(如:客戶統一編號不可空白)
      * 該筆資料站台狀態是否為【已啟用】，若不為已啟用，請顯示錯誤訊息【該筆站台狀態為[授權狀態]()，不可修改】，如:該筆站台狀態為未啟用，不可修改
      * 以上述資料新增一筆站台授權紀錄，並將目前筆站台狀態設定為【強制失效】
      * 重新顯示站台授權表格資料
  
### <div id="activateinfo">啟用資訊</div>
![啟用資訊]

* 本頁面需登入後有權限執行
* 開啟後代入該筆站台授權啟用資訊
  * 1.主機 MAC Address : 啟用授權的客戶端主機 MAC Address
    * 僅顯示
  * 2.主機電腦名稱 : 啟用授權的客戶端電腦名稱
    * 僅顯示

[站台授權]:attachment/homepage_view.png "站台授權"
[站台授權1]:attachment/homepage_view1.png "站台授權1"
[新增客戶站台]:attachment/addsite.png "新增客戶站台"
[修改授權]:attachment/updatesite.png "修改授權"
[啟用後變更授權]:attachment/activatechange.png "啟用後變更授權"
[啟用資訊]:attachment/activateinfo.png "啟用資訊"
