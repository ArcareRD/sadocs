### <div id="introduction">功能介紹</div>
* 目前RTE的排程分為以下兩種:
    * 預設排程 : RTE引擎預設會執行的排程，如下所示 :
        * 定期清理暫存資料庫已經沒使用的資料表
        * 定期清理資料庫中的暫存資料
        * 定期清理檔案系統的檔案
        * 定期清理已無使用的鎖定
    * 運行系統排程 : 此為系統設計者在IDE上指定的排程，透過系統發行或系統安裝，匯入至指定的系統中並啟用排程，可透過以下系統工具表單進行管理
        * 工作排程清單
        * 排程執行明細
        * 排程執行方式

### <div id="tasktype">排程種類 <path>(功能介紹)</div>
* 以下畫面為排程設定的功能與資訊 :

    ![系統工具.排程執行方式]

    * 排程執行的方式，共有以下類型 :
        * 1.僅執行一次 : 僅於開始時間啟動一次排程
        * 2.每日 : 於開始時間啟動一次排程後，每隔N日啟動一次排程
        * 3.每週 : 於開始時間後，依據星期幾的設定啟動第一次排程後，每隔N週的星期幾啟動一次排程
        * 4.每月N日 : 於開始時間後，依據每月N日的設定在指定月份的指定日啟動一次排程
        * 5.每月N週 : 於開始時間後，依據每月N週的設定在指定月份的第N週的星期幾啟動一次排程
    * 啟用排程時，若排程有設定重複執行(每N分鐘重複執行，直到M分鐘後結束)，表示此次排程啟動執行的工作需依據此設定重複執行

### <div id="once">僅執行一次 <path>(功能介紹\排程種類)</div>
* 表示僅於開始時間啟動一次排程
* 啟用排程時，若排程有設定重複執行，表示此次排程啟動執行的工作需依據此設定重複執行。
* 若載入排程時，已超過開始時間，若有設定重複執行，且加上重複執行的持續時間後，還未結束，則需啟動排程執行剩餘的重複執行工作
* 若載入排程時，已超過結束時間，此排程視為無效。
* 以下為模擬案例 :
* 假設目前時間為 2021/10/20 12:04
|  方式  | 開始日期          | 結束日期         | 開始時間  | 每次執行  | 下次執行時間  | 備註 |
| ------------- |:-------------:| :-----: | :-----: | :-----: | ----- | ----- |
| 只執行一次 | 2019/10/18 | 2021/10/19 |  07:01 | 未設定 | 超過結束日期，不再執行 | |
| 只執行一次 | 2019/10/20 | 2021/10/21 |  07:01 | 每 60 分鐘重複執行，直至 420 分鐘後結束 | 2021/10/20 13:01 | 剩餘執行次數 : 2 次 (13:01 , 14:01) |

### <div id="perday">每日 <path>(功能介紹\排程種類)</div>
* 於開始時間啟動一次排程後，每隔N日啟動一次排程
* 啟用排程時，若排程有設定重複執行，表示此次排程啟動執行的工作需依據此設定重複執行。
* 若載入排程時，已超過開始時間，若有設定重複執行，須依據最近一次啟動排程日期加上重複執行的持續時間後，若未結束，則需啟動排程執行剩餘的重複執行工作
* 若載入排程時，已超過結束時間，此排程視為無效。
* 以下為模擬案例 :
* 假設目前時間為 2021/10/20 12:04
|  方式  | 開始日期          | 結束日期         | 開始時間  | 間隔設定 | 每次執行  | 下次執行時間  | 備註 |
| ------------- |:-------------:| :-----: | :-----: | :-----: | :-----: | ----- | ----- |
| 每日 | 2019/06/20 | 2040/12/31 |  07:01 | 每隔 1 日 | 未設定 | 2021/10/21 07:01 | |
| 每日 | 2019/06/20 | 2040/12/31 |  07:01 | 每隔 1 日 | 每 60 分鐘重複執行，直至 420 分鐘後結束 | 2021/10/20 13:01 | 今日剩餘執行次數 : 2 次 (13:01 , 14:01) |

### <div id="perweek">每週 <path>(功能介紹\排程種類)</div>
* 於開始時間計算首次啟動排程日期後，依此日期每隔N週的星期幾啟動一次排程
* 啟用排程時，若排程有設定重複執行，表示此次排程啟動執行的工作需依據此設定重複執行。
* 若載入排程時，已超過開始時間，若有設定重複執行，須依據最近一次啟動排程日期加上重複執行的持續時間後，若未結束，則需啟動排程執行剩餘的重複執行工作
* 若載入排程時，已超過結束時間，此排程視為無效。
* 以下為模擬案例 :
* 假設目前時間為 2021/10/20 12:04
|  方式  | 開始日期          | 結束日期         | 開始時間  | 間隔設定 | 每次執行  | 下次執行時間  | 備註 |
| ------------- |:-------------:| :-----: | :-----: | :-----: | :-----: | ----- | ----- |
| 每週 | 2019/06/20 | 2040/12/31 |  07:01 | 每隔 1 周，星期 三 執行 | 未設定 | 2021/10/27 07:01 | |
| 每週 | 2019/06/20 | 2040/12/31 |  07:01 | 每隔 1 周，星期 三 執行 | 每 60 分鐘重複執行，直至 420 分鐘後結束 | 2021/10/20 13:01 | 本周剩餘執行次數 : 2 次 (13:01 , 14:01) |

### <div id="dayofmonth">每月N日 <path>(功能介紹\排程種類)</div>
* 於開始時間後，依據月份設定每月的N日啟動一次排程
* 啟用排程時，若排程有設定重複執行，表示此次排程啟動執行的工作需依據此設定重複執行。
* 若載入排程時，已超過開始時間，若有設定重複執行，須依據最近一次啟動排程日期加上重複執行的持續時間後，若未結束，則需啟動排程執行剩餘的重複執行工作
* 若載入排程時，已超過結束時間，此排程視為無效。
* 以下為模擬案例 :
* 假設目前時間為 2021/10/20 12:04
|  方式  | 開始日期          | 結束日期         | 開始時間  | 間隔設定 | 每次執行  | 下次執行時間  | 備註 |
| ------------- |:-------------:| :-----: | :-----: | :-----: | :-----: | ----- | ----- |
| 每月N日 | 2019/06/20 | 2040/12/31 |  07:01 | 於 9,10,11,12 月份 20 日執行 | 未設定 | 2021/11/20 07:01 | |
| 每月N日 | 2019/06/20 | 2040/12/31 |  07:01 | 於 9,10,11,12 月份 20 日執行 | 每 60 分鐘重複執行，直至 420 分鐘後結束 | 2021/10/20 13:01 | 本周剩餘執行次數 : 2 次 (13:01 , 14:01) |

### <div id="weekofmonth">每月N週 <path>(功能介紹\排程種類)</div>
* 於開始時間後，依據月份設定每月的第N週的星期幾啟動一次排程
* 啟用排程時，若排程有設定重複執行，表示此次排程啟動執行的工作需依據此設定重複執行。
* 若載入排程時，已超過開始時間，若有設定重複執行，須依據最近一次啟動排程日期加上重複執行的持續時間後，若未結束，則需啟動排程執行剩餘的重複執行工作
* 若載入排程時，已超過結束時間，此排程視為無效。
* 以下為模擬案例 :
* 假設目前時間為 2021/10/20 12:04
|  方式  | 開始日期          | 結束日期         | 開始時間  | 間隔設定 | 每次執行  | 下次執行時間  | 備註 |
| ------------- |:-------------:| :-----: | :-----: | :-----: | :-----: | ----- | ----- |
| 每月N周 | 2019/06/20 | 2040/12/31 |  07:01 | 於 9,10,11,12 月份 第 3 周，星期 三 執行 | 未設定 | 2021/11/17 07:01 | |
| 每月N周 | 2019/06/20 | 2040/12/31 |  07:01 | 於 9,10,11,12 月份 第 3 周，星期 三 執行 | 每 60 分鐘重複執行，直至 420 分鐘後結束 | 2021/10/20 13:01 | 本周剩餘執行次數 : 2 次 (13:01 , 14:01) |

### <div id="start">啟動時機 <path>(功能介紹)</div>
* 目前引擎針對載入排程並啟動的各個時機點如下 :

| 時機          | 所有專案         | 所有分公司  | 本機  | 通知所有中間台  | 通知排程伺服器  | 動作說明  |
| ------------- |:-------------:| :-----: | :-----: | :-----: | :-----: | ----- |
| Client引擎啟動時 | V | V | V |  |  | 載入所有系統的功能鍵排程、系統排程 |
| Site資料庫設定 - 功.儲存 | V | V | V |  |  | 停止所有排程，再載入所有系統的功能鍵排程、系統排程 |
| 站台管理表單.服務中間台 - 功.設定排程 | V | V | V | V |  | 通知所有中間台排程重整 |
| 站台管理表單.系統管理 - 功.儲存(系統) |  | V |  |  | V | 停止該系統的所有排程，再重新載入 |
| 站台管理表單.系統管理 - 功.刪除(系統) |  | V |  |  | V | 停止該系統的所有排程 |
| 站台管理表單.系統管理 - 功.儲存(組織) |  |  |  |  | V | 停止該組織的所有排程，再重新載入 |
| 站台管理表單.系統管理 - 功.刪除(組織) |  |  |  |  | V | 停止該組織的所有排程 |
| 站台管理表單.匯入系統 - 功.匯入 |  | V |  |  | V | 停止該系統的所有排程，再重新載入 |
| 系統工具表單.排程執行方式 - 功.存回 |  |  |  |  | V | 停止該組織的所有排程，再重新載入 |


[系統工具.排程執行方式]:attachment/tasksetting.png "系統工具.排程執行方式"






